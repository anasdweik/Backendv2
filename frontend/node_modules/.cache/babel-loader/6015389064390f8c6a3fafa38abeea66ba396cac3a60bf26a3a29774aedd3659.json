{"ast":null,"code":"import React,{useState}from'react';import{TextField,Button,Container,Typography}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostDonation=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[location,setLocation]=useState('');const[condition,setCondition]=useState('');const[category,setCategory]=useState('');const[images,setImages]=useState([]);const handleSubmit=async e=>{e.preventDefault();try{const formData=new FormData();formData.append('title',title);formData.append('description',description);formData.append('location',location);formData.append('condition',condition);formData.append('category',category);for(let i=0;i<images.length&&i<5;i++){formData.append('images',images[i]);}const response=await axios.post('/api/donations',formData);console.log(response.data);alert('Donation posted successfully!');}catch(error){var _error$response;console.error(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert('Failed to post donation.');}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Post a Donation\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Title\",fullWidth:true,margin:\"normal\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",fullWidth:true,margin:\"normal\",multiline:true,rows:4,value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Location\",fullWidth:true,margin:\"normal\",value:location,onChange:e=>setLocation(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Condition\",fullWidth:true,margin:\"normal\",value:condition,onChange:e=>setCondition(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Category\",fullWidth:true,margin:\"normal\",value:category,onChange:e=>setCategory(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",multiple:true,onChange:e=>setImages(e.target.files),style:{marginTop:'1rem'}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",style:{marginTop:'1rem'},children:\"Submit\"})]})]});};export default PostDonation;","map":{"version":3,"names":["React","useState","TextField","Button","Container","Typography","axios","jsx","_jsx","jsxs","_jsxs","PostDonation","title","setTitle","description","setDescription","location","setLocation","condition","setCondition","category","setCategory","images","setImages","handleSubmit","e","preventDefault","formData","FormData","append","i","length","response","post","console","log","data","alert","error","_error$response","message","maxWidth","children","variant","gutterBottom","onSubmit","label","fullWidth","margin","value","onChange","target","multiline","rows","type","accept","multiple","files","style","marginTop","color"],"sources":["C:/Users/adwei/Desktop/donation website/frontend/src/components/PostDonation.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Container, Typography } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst PostDonation = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [condition, setCondition] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [images, setImages] = useState([]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('title', title);\r\n      formData.append('description', description);\r\n      formData.append('location', location);\r\n      formData.append('condition', condition);\r\n      formData.append('category', category);\r\n      for (let i = 0; i < images.length && i < 5; i++) {\r\n        formData.append('images', images[i]);\r\n      }\r\n\r\n      const response = await axios.post('/api/donations', formData);\r\n      console.log(response.data);\r\n      alert('Donation posted successfully!');\r\n    } catch (error) {\r\n      console.error(error.response?.data || error.message);\r\n      alert('Failed to post donation.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Post a Donation\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField label=\"Title\" fullWidth margin=\"normal\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n        <TextField label=\"Description\" fullWidth margin=\"normal\" multiline rows={4} value={description} onChange={(e) => setDescription(e.target.value)} />\r\n        <TextField label=\"Location\" fullWidth margin=\"normal\" value={location} onChange={(e) => setLocation(e.target.value)} />\r\n        <TextField label=\"Condition\" fullWidth margin=\"normal\" value={condition} onChange={(e) => setCondition(e.target.value)} />\r\n        <TextField label=\"Category\" fullWidth margin=\"normal\" value={category} onChange={(e) => setCategory(e.target.value)} />\r\n        <input type=\"file\" accept=\"image/*\" multiple onChange={(e) => setImages(e.target.files)} style={{ marginTop: '1rem' }} />\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" style={{ marginTop: '1rem' }}>\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostDonation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}