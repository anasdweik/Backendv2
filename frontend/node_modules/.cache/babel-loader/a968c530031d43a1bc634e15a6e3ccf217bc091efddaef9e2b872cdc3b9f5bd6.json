{"ast":null,"code":"import React,{useState}from'react';import{TextField,Button,Container,Typography,Card,CardContent}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostDonation=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[location,setLocation]=useState('');const[condition,setCondition]=useState('');const[category,setCategory]=useState('');const[images,setImages]=useState([]);const handleSubmit=async e=>{e.preventDefault();try{const formData=new FormData();formData.append('title',title);formData.append('description',description);formData.append('location',location);formData.append('condition',condition);formData.append('category',category);for(let i=0;i<images.length&&i<5;i++){formData.append('images',images[i]);}await axios.post('/api/donations',formData);alert('Donation posted successfully!');}catch(error){var _error$response;console.error(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert('Failed to post donation.');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",style:{marginTop:'40px'},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Post a Donation\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Title\",fullWidth:true,margin:\"normal\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",fullWidth:true,margin:\"normal\",multiline:true,rows:4,value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Location\",fullWidth:true,margin:\"normal\",value:location,onChange:e=>setLocation(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Condition\",fullWidth:true,margin:\"normal\",value:condition,onChange:e=>setCondition(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Category\",fullWidth:true,margin:\"normal\",value:category,onChange:e=>setCategory(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",multiple:true,onChange:e=>setImages(e.target.files),style:{marginTop:'1rem'}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,style:{marginTop:'20px'},children:\"Submit\"})]})]})})});};export default PostDonation;","map":{"version":3,"names":["React","useState","TextField","Button","Container","Typography","Card","CardContent","axios","jsx","_jsx","jsxs","_jsxs","PostDonation","title","setTitle","description","setDescription","location","setLocation","condition","setCondition","category","setCategory","images","setImages","handleSubmit","e","preventDefault","formData","FormData","append","i","length","post","alert","error","_error$response","console","response","data","message","maxWidth","style","marginTop","children","variant","gutterBottom","onSubmit","label","fullWidth","margin","value","onChange","target","multiline","rows","type","accept","multiple","files","color"],"sources":["C:/Users/adwei/Desktop/donation website/frontend/src/components/PostDonation.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Container, Typography, Card, CardContent } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst PostDonation = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [condition, setCondition] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [images, setImages] = useState([]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('title', title);\r\n      formData.append('description', description);\r\n      formData.append('location', location);\r\n      formData.append('condition', condition);\r\n      formData.append('category', category);\r\n      for (let i = 0; i < images.length && i < 5; i++) {\r\n        formData.append('images', images[i]);\r\n      }\r\n\r\n      await axios.post('/api/donations', formData);\r\n      alert('Donation posted successfully!');\r\n    } catch (error) {\r\n      console.error(error.response?.data || error.message);\r\n      alert('Failed to post donation.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" style={{ marginTop: '40px' }}>\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h4\" gutterBottom>Post a Donation</Typography>\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField label=\"Title\" fullWidth margin=\"normal\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n            <TextField label=\"Description\" fullWidth margin=\"normal\" multiline rows={4} value={description} onChange={(e) => setDescription(e.target.value)} />\r\n            <TextField label=\"Location\" fullWidth margin=\"normal\" value={location} onChange={(e) => setLocation(e.target.value)} />\r\n            <TextField label=\"Condition\" fullWidth margin=\"normal\" value={condition} onChange={(e) => setCondition(e.target.value)} />\r\n            <TextField label=\"Category\" fullWidth margin=\"normal\" value={category} onChange={(e) => setCategory(e.target.value)} />\r\n            <input type=\"file\" accept=\"image/*\" multiple onChange={(e) => setImages(e.target.files)} style={{ marginTop: '1rem' }} />\r\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth style={{ marginTop: '20px' }}>\r\n              Submit\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostDonation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}